/*!
* focus-trap 6.0.1
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):(e="undefined"!=typeof globalThis?globalThis:e||self,function(){var n=e.focusTrap,r=e.focusTrap={};t(r),r.noConflict=function(){return e.focusTrap=n,r}}())}(this,(function(e){"use strict";function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var r=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary"],o=r.join(","),a="undefined"==typeof Element?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;function i(e){return!(!c(e)||function(e){return function(e){return p(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}((e.form||e.ownerDocument).querySelectorAll('input[type="radio"][name="'+e.name+'"]'),e.form);return!t||t===e}(e)}(e)||f(e)<0)}function c(e){return!(e.disabled||function(e){return p(e)&&"hidden"===e.type}(e)||function(e){return null===e.offsetParent||"hidden"===getComputedStyle(e).visibility}(e))}var u,s=r.concat("iframe").join(",");function l(e){if(!e)throw new Error("No node provided");return!1!==a.call(e,s)&&c(e)}function f(e){var t=parseInt(e.getAttribute("tabindex"),10);return isNaN(t)?function(e){return"true"===e.contentEditable}(e)?0:"AUDIO"!==e.nodeName&&"VIDEO"!==e.nodeName||null!==e.getAttribute("tabindex")?e.tabIndex:0:t}function d(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex}function p(e){return"INPUT"===e.tagName}var v,b=(v=[],{activateTrap:function(e){if(v.length>0){var t=v[v.length-1];t!==e&&t.pause()}var n=v.indexOf(e);-1===n||v.splice(n,1),v.push(e)},deactivateTrap:function(e){var t=v.indexOf(e);-1!==t&&v.splice(t,1),v.length>0&&v[v.length-1].unpause()}});function m(e){return setTimeout(e,0)}e.createFocusTrap=function(e,r){var c=document,s="string"==typeof e?c.querySelector(e):e,p=function(e){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?n(Object(o),!0).forEach((function(n){t(e,n,o[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({returnFocusOnDeactivate:!0,escapeDeactivates:!0},r),v={firstTabbableNode:null,lastTabbableNode:null,nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1},y={activate:function(e){if(v.active)return;j(),v.active=!0,v.paused=!1,v.nodeFocusedBeforeActivation=c.activeElement;var t=e&&e.onActivate?e.onActivate:p.onActivate;t&&t();return g(),y},deactivate:O,pause:function(){if(v.paused||!v.active)return;v.paused=!0,h()},unpause:function(){if(!v.paused||!v.active)return;v.paused=!1,j(),g()}};return y;function O(e){if(v.active){clearTimeout(u),h(),v.active=!1,v.paused=!1,b.deactivateTrap(y);var t=e&&void 0!==e.onDeactivate?e.onDeactivate:p.onDeactivate;return t&&t(),(e&&void 0!==e.returnFocus?e.returnFocus:p.returnFocusOnDeactivate)&&m((function(){var e;F((e=v.nodeFocusedBeforeActivation,w("setReturnFocus")||e))})),y}}function g(){if(v.active)return b.activateTrap(y),u=m((function(){F(E())})),c.addEventListener("focusin",T,!0),c.addEventListener("mousedown",k,{capture:!0,passive:!1}),c.addEventListener("touchstart",k,{capture:!0,passive:!1}),c.addEventListener("click",N,{capture:!0,passive:!1}),c.addEventListener("keydown",D,{capture:!0,passive:!1}),y}function h(){if(v.active)return c.removeEventListener("focusin",T,!0),c.removeEventListener("mousedown",k,!0),c.removeEventListener("touchstart",k,!0),c.removeEventListener("click",N,!0),c.removeEventListener("keydown",D,!0),y}function w(e){var t=p[e],n=t;if(!t)return null;if("string"==typeof t&&!(n=c.querySelector(t)))throw new Error("`"+e+"` refers to no known node");if("function"==typeof t&&!(n=t()))throw new Error("`"+e+"` did not return a node");return n}function E(){var e;if(!(e=null!==w("initialFocus")?w("initialFocus"):s.contains(c.activeElement)?c.activeElement:v.firstTabbableNode||w("fallbackFocus")))throw new Error("Your focus-trap needs to have at least one focusable element");return e}function k(e){s.contains(e.target)||(p.clickOutsideDeactivates?O({returnFocus:!l(e.target)}):p.allowOutsideClick&&("boolean"==typeof p.allowOutsideClick?p.allowOutsideClick:p.allowOutsideClick(e))||e.preventDefault())}function T(e){s.contains(e.target)||e.target instanceof Document||(e.stopImmediatePropagation(),F(v.mostRecentlyFocusedNode||E()))}function D(e){if(!1!==p.escapeDeactivates&&function(e){return"Escape"===e.key||"Esc"===e.key||27===e.keyCode}(e))return e.preventDefault(),void O();(function(e){return"Tab"===e.key||9===e.keyCode})(e)&&function(e){if(j(),e.shiftKey&&e.target===v.firstTabbableNode)return e.preventDefault(),void F(v.lastTabbableNode);if(!e.shiftKey&&e.target===v.lastTabbableNode)e.preventDefault(),F(v.firstTabbableNode)}(e)}function N(e){p.clickOutsideDeactivates||s.contains(e.target)||p.allowOutsideClick&&("boolean"==typeof p.allowOutsideClick?p.allowOutsideClick:p.allowOutsideClick(e))||(e.preventDefault(),e.stopImmediatePropagation())}function j(){var e=function(e,t){t=t||{};var n,r,c=[],u=[],s=e.querySelectorAll(o);t.includeContainer&&a.call(e,o)&&(s=Array.prototype.slice.apply(s)).unshift(e);for(var l=0;l<s.length;l++)i(n=s[l])&&(0===(r=f(n))?c.push(n):u.push({documentOrder:l,tabIndex:r,node:n}));return u.sort(d).map((function(e){return e.node})).concat(c)}(s);v.firstTabbableNode=e[0]||E(),v.lastTabbableNode=e[e.length-1]||E()}function F(e){e!==c.activeElement&&(e&&e.focus?(e.focus({preventScroll:!!p.preventScroll}),v.mostRecentlyFocusedNode=e,function(e){return e.tagName&&"input"===e.tagName.toLowerCase()&&"function"==typeof e.select}(e)&&e.select()):F(E()))}},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=focus-trap.umd.min.js.map
