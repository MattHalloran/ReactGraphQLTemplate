/*!
* focus-trap 6.0.1
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/
function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var n=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary"],r=n.join(","),o="undefined"==typeof Element?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;function a(e){return!(!i(e)||function(e){return function(e){return d(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}((e.form||e.ownerDocument).querySelectorAll('input[type="radio"][name="'+e.name+'"]'),e.form);return!t||t===e}(e)}(e)||s(e)<0)}function i(e){return!(e.disabled||function(e){return d(e)&&"hidden"===e.type}(e)||function(e){return null===e.offsetParent||"hidden"===getComputedStyle(e).visibility}(e))}var c,u=n.concat("iframe").join(",");function l(e){if(!e)throw new Error("No node provided");return!1!==o.call(e,u)&&i(e)}function s(e){var t=parseInt(e.getAttribute("tabindex"),10);return isNaN(t)?function(e){return"true"===e.contentEditable}(e)?0:"AUDIO"!==e.nodeName&&"VIDEO"!==e.nodeName||null!==e.getAttribute("tabindex")?e.tabIndex:0:t}function f(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex}function d(e){return"INPUT"===e.tagName}var v,p=(v=[],{activateTrap:function(e){if(v.length>0){var t=v[v.length-1];t!==e&&t.pause()}var n=v.indexOf(e);-1===n||v.splice(n,1),v.push(e)},deactivateTrap:function(e){var t=v.indexOf(e);-1!==t&&v.splice(t,1),v.length>0&&v[v.length-1].unpause()}});function b(n,i){var u=document,d="string"==typeof n?u.querySelector(n):n,v=function(n){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?t(Object(o),!0).forEach((function(t){e(n,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))}))}return n}({returnFocusOnDeactivate:!0,escapeDeactivates:!0},i),b={firstTabbableNode:null,lastTabbableNode:null,nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1},y={activate:function(e){if(b.active)return;F(),b.active=!0,b.paused=!1,b.nodeFocusedBeforeActivation=u.activeElement;var t=e&&e.onActivate?e.onActivate:v.onActivate;t&&t();return g(),y},deactivate:O,pause:function(){if(b.paused||!b.active)return;b.paused=!0,h()},unpause:function(){if(!b.paused||!b.active)return;b.paused=!1,F(),g()}};return y;function O(e){if(b.active){clearTimeout(c),h(),b.active=!1,b.paused=!1,p.deactivateTrap(y);var t=e&&void 0!==e.onDeactivate?e.onDeactivate:v.onDeactivate;return t&&t(),(e&&void 0!==e.returnFocus?e.returnFocus:v.returnFocusOnDeactivate)&&m((function(){var e;j((e=b.nodeFocusedBeforeActivation,w("setReturnFocus")||e))})),y}}function g(){if(b.active)return p.activateTrap(y),c=m((function(){j(E())})),u.addEventListener("focusin",D,!0),u.addEventListener("mousedown",k,{capture:!0,passive:!1}),u.addEventListener("touchstart",k,{capture:!0,passive:!1}),u.addEventListener("click",T,{capture:!0,passive:!1}),u.addEventListener("keydown",N,{capture:!0,passive:!1}),y}function h(){if(b.active)return u.removeEventListener("focusin",D,!0),u.removeEventListener("mousedown",k,!0),u.removeEventListener("touchstart",k,!0),u.removeEventListener("click",T,!0),u.removeEventListener("keydown",N,!0),y}function w(e){var t=v[e],n=t;if(!t)return null;if("string"==typeof t&&!(n=u.querySelector(t)))throw new Error("`"+e+"` refers to no known node");if("function"==typeof t&&!(n=t()))throw new Error("`"+e+"` did not return a node");return n}function E(){var e;if(!(e=null!==w("initialFocus")?w("initialFocus"):d.contains(u.activeElement)?u.activeElement:b.firstTabbableNode||w("fallbackFocus")))throw new Error("Your focus-trap needs to have at least one focusable element");return e}function k(e){d.contains(e.target)||(v.clickOutsideDeactivates?O({returnFocus:!l(e.target)}):v.allowOutsideClick&&("boolean"==typeof v.allowOutsideClick?v.allowOutsideClick:v.allowOutsideClick(e))||e.preventDefault())}function D(e){d.contains(e.target)||e.target instanceof Document||(e.stopImmediatePropagation(),j(b.mostRecentlyFocusedNode||E()))}function N(e){if(!1!==v.escapeDeactivates&&function(e){return"Escape"===e.key||"Esc"===e.key||27===e.keyCode}(e))return e.preventDefault(),void O();(function(e){return"Tab"===e.key||9===e.keyCode})(e)&&function(e){if(F(),e.shiftKey&&e.target===b.firstTabbableNode)return e.preventDefault(),void j(b.lastTabbableNode);if(!e.shiftKey&&e.target===b.lastTabbableNode)e.preventDefault(),j(b.firstTabbableNode)}(e)}function T(e){v.clickOutsideDeactivates||d.contains(e.target)||v.allowOutsideClick&&("boolean"==typeof v.allowOutsideClick?v.allowOutsideClick:v.allowOutsideClick(e))||(e.preventDefault(),e.stopImmediatePropagation())}function F(){var e=function(e,t){t=t||{};var n,i,c=[],u=[],l=e.querySelectorAll(r);t.includeContainer&&o.call(e,r)&&(l=Array.prototype.slice.apply(l)).unshift(e);for(var d=0;d<l.length;d++)a(n=l[d])&&(0===(i=s(n))?c.push(n):u.push({documentOrder:d,tabIndex:i,node:n}));return u.sort(f).map((function(e){return e.node})).concat(c)}(d);b.firstTabbableNode=e[0]||E(),b.lastTabbableNode=e[e.length-1]||E()}function j(e){e!==u.activeElement&&(e&&e.focus?(e.focus({preventScroll:!!v.preventScroll}),b.mostRecentlyFocusedNode=e,function(e){return e.tagName&&"input"===e.tagName.toLowerCase()&&"function"==typeof e.select}(e)&&e.select()):j(E()))}}function m(e){return setTimeout(e,0)}export{b as createFocusTrap};
//# sourceMappingURL=focus-trap.esm.min.js.map
