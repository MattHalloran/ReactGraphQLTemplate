{"version":3,"file":"index.umd.js","sources":["../src/index.js"],"sourcesContent":["let candidateSelectors = [\n  'input',\n  'select',\n  'textarea',\n  'a[href]',\n  'button',\n  '[tabindex]',\n  'audio[controls]',\n  'video[controls]',\n  '[contenteditable]:not([contenteditable=\"false\"])',\n  'details>summary',\n];\nlet candidateSelector = /* #__PURE__ */ candidateSelectors.join(',');\n\nlet matches =\n  typeof Element === 'undefined'\n    ? function () {}\n    : Element.prototype.matches ||\n      Element.prototype.msMatchesSelector ||\n      Element.prototype.webkitMatchesSelector;\n\nfunction tabbable(el, options) {\n  options = options || {};\n\n  let regularTabbables = [];\n  let orderedTabbables = [];\n\n  let candidates = el.querySelectorAll(candidateSelector);\n\n  if (options.includeContainer) {\n    if (matches.call(el, candidateSelector)) {\n      candidates = Array.prototype.slice.apply(candidates);\n      candidates.unshift(el);\n    }\n  }\n\n  let candidate;\n  let candidateTabindex;\n  for (let i = 0; i < candidates.length; i++) {\n    candidate = candidates[i];\n\n    if (!isNodeMatchingSelectorTabbable(candidate)) {\n      continue;\n    }\n\n    candidateTabindex = getTabindex(candidate);\n    if (candidateTabindex === 0) {\n      regularTabbables.push(candidate);\n    } else {\n      orderedTabbables.push({\n        documentOrder: i,\n        tabIndex: candidateTabindex,\n        node: candidate,\n      });\n    }\n  }\n\n  let tabbableNodes = orderedTabbables\n    .sort(sortOrderedTabbables)\n    .map((a) => a.node)\n    .concat(regularTabbables);\n\n  return tabbableNodes;\n}\n\nfunction isNodeMatchingSelectorTabbable(node) {\n  if (\n    !isNodeMatchingSelectorFocusable(node) ||\n    isNonTabbableRadio(node) ||\n    getTabindex(node) < 0\n  ) {\n    return false;\n  }\n  return true;\n}\n\nfunction isTabbable(node) {\n  if (!node) {\n    throw new Error('No node provided');\n  }\n  if (matches.call(node, candidateSelector) === false) {\n    return false;\n  }\n  return isNodeMatchingSelectorTabbable(node);\n}\n\nfunction isNodeMatchingSelectorFocusable(node) {\n  if (node.disabled || isHiddenInput(node) || isHidden(node)) {\n    return false;\n  }\n  return true;\n}\n\nlet focusableCandidateSelector = candidateSelectors.concat('iframe').join(',');\nfunction isFocusable(node) {\n  if (!node) {\n    throw new Error('No node provided');\n  }\n  if (matches.call(node, focusableCandidateSelector) === false) {\n    return false;\n  }\n  return isNodeMatchingSelectorFocusable(node);\n}\n\nfunction getTabindex(node) {\n  let tabindexAttr = parseInt(node.getAttribute('tabindex'), 10);\n\n  if (!isNaN(tabindexAttr)) {\n    return tabindexAttr;\n  }\n\n  // Browsers do not return `tabIndex` correctly for contentEditable nodes;\n  // so if they don't have a tabindex attribute specifically set, assume it's 0.\n  if (isContentEditable(node)) {\n    return 0;\n  }\n\n  // in Chrome, <audio controls/> and <video controls/> elements get a default\n  //  `tabIndex` of -1 when the 'tabindex' attribute isn't specified in the DOM,\n  //  yet they are still part of the regular tab order; in FF, they get a default\n  //  `tabIndex` of 0; since Chrome still puts those elements in the regular tab\n  //  order, consider their tab index to be 0\n  if (\n    (node.nodeName === 'AUDIO' || node.nodeName === 'VIDEO') &&\n    node.getAttribute('tabindex') === null\n  ) {\n    return 0;\n  }\n\n  return node.tabIndex;\n}\n\nfunction sortOrderedTabbables(a, b) {\n  return a.tabIndex === b.tabIndex\n    ? a.documentOrder - b.documentOrder\n    : a.tabIndex - b.tabIndex;\n}\n\nfunction isContentEditable(node) {\n  return node.contentEditable === 'true';\n}\n\nfunction isInput(node) {\n  return node.tagName === 'INPUT';\n}\n\nfunction isHiddenInput(node) {\n  return isInput(node) && node.type === 'hidden';\n}\n\nfunction isRadio(node) {\n  return isInput(node) && node.type === 'radio';\n}\n\nfunction isNonTabbableRadio(node) {\n  return isRadio(node) && !isTabbableRadio(node);\n}\n\nfunction getCheckedRadio(nodes, form) {\n  for (let i = 0; i < nodes.length; i++) {\n    if (nodes[i].checked && nodes[i].form === form) {\n      return nodes[i];\n    }\n  }\n}\n\nfunction isTabbableRadio(node) {\n  if (!node.name) {\n    return true;\n  }\n  const radioScope = node.form || node.ownerDocument;\n  let radioSet = radioScope.querySelectorAll(\n    'input[type=\"radio\"][name=\"' + node.name + '\"]'\n  );\n  let checked = getCheckedRadio(radioSet, node.form);\n  return !checked || checked === node;\n}\n\nfunction isHidden(node) {\n  // offsetParent being null will allow detecting cases where an element is invisible or inside an invisible element,\n  // as long as the element does not use position: fixed. For them, their visibility has to be checked directly as well.\n  return (\n    node.offsetParent === null || getComputedStyle(node).visibility === 'hidden'\n  );\n}\n\nexport { tabbable, isTabbable, isFocusable };\n"],"names":[],"mappings":";;;;;;EAAA,IAAI,kBAAkB,GAAG;EACzB,EAAE,OAAO;EACT,EAAE,QAAQ;EACV,EAAE,UAAU;EACZ,EAAE,SAAS;EACX,EAAE,QAAQ;EACV,EAAE,YAAY;EACd,EAAE,iBAAiB;EACnB,EAAE,iBAAiB;EACnB,EAAE,kDAAkD;EACpD,EAAE,iBAAiB;EACnB,CAAC,CAAC;EACF,IAAI,iBAAiB,mBAAmB,kBAAkB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AACrE;EACA,IAAI,OAAO;EACX,EAAE,OAAO,OAAO,KAAK,WAAW;EAChC,MAAM,YAAY,EAAE;EACpB,MAAM,OAAO,CAAC,SAAS,CAAC,OAAO;EAC/B,MAAM,OAAO,CAAC,SAAS,CAAC,iBAAiB;EACzC,MAAM,OAAO,CAAC,SAAS,CAAC,qBAAqB,CAAC;AAC9C;EACA,SAAS,QAAQ,CAAC,EAAE,EAAE,OAAO,EAAE;EAC/B,EAAE,OAAO,GAAG,OAAO,IAAI,EAAE,CAAC;AAC1B;EACA,EAAE,IAAI,gBAAgB,GAAG,EAAE,CAAC;EAC5B,EAAE,IAAI,gBAAgB,GAAG,EAAE,CAAC;AAC5B;EACA,EAAE,IAAI,UAAU,GAAG,EAAE,CAAC,gBAAgB,CAAC,iBAAiB,CAAC,CAAC;AAC1D;EACA,EAAE,IAAI,OAAO,CAAC,gBAAgB,EAAE;EAChC,IAAI,IAAI,OAAO,CAAC,IAAI,CAAC,EAAE,EAAE,iBAAiB,CAAC,EAAE;EAC7C,MAAM,UAAU,GAAG,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;EAC3D,MAAM,UAAU,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;EAC7B,KAAK;EACL,GAAG;AACH;EACA,EAAE,IAAI,SAAS,CAAC;EAChB,EAAE,IAAI,iBAAiB,CAAC;EACxB,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;EAC9C,IAAI,SAAS,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;AAC9B;EACA,IAAI,IAAI,CAAC,8BAA8B,CAAC,SAAS,CAAC,EAAE;EACpD,MAAM,SAAS;EACf,KAAK;AACL;EACA,IAAI,iBAAiB,GAAG,WAAW,CAAC,SAAS,CAAC,CAAC;EAC/C,IAAI,IAAI,iBAAiB,KAAK,CAAC,EAAE;EACjC,MAAM,gBAAgB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;EACvC,KAAK,MAAM;EACX,MAAM,gBAAgB,CAAC,IAAI,CAAC;EAC5B,QAAQ,aAAa,EAAE,CAAC;EACxB,QAAQ,QAAQ,EAAE,iBAAiB;EACnC,QAAQ,IAAI,EAAE,SAAS;EACvB,OAAO,CAAC,CAAC;EACT,KAAK;EACL,GAAG;AACH;EACA,EAAE,IAAI,aAAa,GAAG,gBAAgB;EACtC,KAAK,IAAI,CAAC,oBAAoB,CAAC;EAC/B,KAAK,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC;EACvB,KAAK,MAAM,CAAC,gBAAgB,CAAC,CAAC;AAC9B;EACA,EAAE,OAAO,aAAa,CAAC;EACvB,CAAC;AACD;EACA,SAAS,8BAA8B,CAAC,IAAI,EAAE;EAC9C,EAAE;EACF,IAAI,CAAC,+BAA+B,CAAC,IAAI,CAAC;EAC1C,IAAI,kBAAkB,CAAC,IAAI,CAAC;EAC5B,IAAI,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC;EACzB,IAAI;EACJ,IAAI,OAAO,KAAK,CAAC;EACjB,GAAG;EACH,EAAE,OAAO,IAAI,CAAC;EACd,CAAC;AACD;EACA,SAAS,UAAU,CAAC,IAAI,EAAE;EAC1B,EAAE,IAAI,CAAC,IAAI,EAAE;EACb,IAAI,MAAM,IAAI,KAAK,CAAC,kBAAkB,CAAC,CAAC;EACxC,GAAG;EACH,EAAE,IAAI,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,iBAAiB,CAAC,KAAK,KAAK,EAAE;EACvD,IAAI,OAAO,KAAK,CAAC;EACjB,GAAG;EACH,EAAE,OAAO,8BAA8B,CAAC,IAAI,CAAC,CAAC;EAC9C,CAAC;AACD;EACA,SAAS,+BAA+B,CAAC,IAAI,EAAE;EAC/C,EAAE,IAAI,IAAI,CAAC,QAAQ,IAAI,aAAa,CAAC,IAAI,CAAC,IAAI,QAAQ,CAAC,IAAI,CAAC,EAAE;EAC9D,IAAI,OAAO,KAAK,CAAC;EACjB,GAAG;EACH,EAAE,OAAO,IAAI,CAAC;EACd,CAAC;AACD;EACA,IAAI,0BAA0B,GAAG,kBAAkB,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;EAC/E,SAAS,WAAW,CAAC,IAAI,EAAE;EAC3B,EAAE,IAAI,CAAC,IAAI,EAAE;EACb,IAAI,MAAM,IAAI,KAAK,CAAC,kBAAkB,CAAC,CAAC;EACxC,GAAG;EACH,EAAE,IAAI,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,0BAA0B,CAAC,KAAK,KAAK,EAAE;EAChE,IAAI,OAAO,KAAK,CAAC;EACjB,GAAG;EACH,EAAE,OAAO,+BAA+B,CAAC,IAAI,CAAC,CAAC;EAC/C,CAAC;AACD;EACA,SAAS,WAAW,CAAC,IAAI,EAAE;EAC3B,EAAE,IAAI,YAAY,GAAG,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;AACjE;EACA,EAAE,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,EAAE;EAC5B,IAAI,OAAO,YAAY,CAAC;EACxB,GAAG;AACH;EACA;EACA;EACA,EAAE,IAAI,iBAAiB,CAAC,IAAI,CAAC,EAAE;EAC/B,IAAI,OAAO,CAAC,CAAC;EACb,GAAG;AACH;EACA;EACA;EACA;EACA;EACA;EACA,EAAE;EACF,IAAI,CAAC,IAAI,CAAC,QAAQ,KAAK,OAAO,IAAI,IAAI,CAAC,QAAQ,KAAK,OAAO;EAC3D,IAAI,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,KAAK,IAAI;EAC1C,IAAI;EACJ,IAAI,OAAO,CAAC,CAAC;EACb,GAAG;AACH;EACA,EAAE,OAAO,IAAI,CAAC,QAAQ,CAAC;EACvB,CAAC;AACD;EACA,SAAS,oBAAoB,CAAC,CAAC,EAAE,CAAC,EAAE;EACpC,EAAE,OAAO,CAAC,CAAC,QAAQ,KAAK,CAAC,CAAC,QAAQ;EAClC,MAAM,CAAC,CAAC,aAAa,GAAG,CAAC,CAAC,aAAa;EACvC,MAAM,CAAC,CAAC,QAAQ,GAAG,CAAC,CAAC,QAAQ,CAAC;EAC9B,CAAC;AACD;EACA,SAAS,iBAAiB,CAAC,IAAI,EAAE;EACjC,EAAE,OAAO,IAAI,CAAC,eAAe,KAAK,MAAM,CAAC;EACzC,CAAC;AACD;EACA,SAAS,OAAO,CAAC,IAAI,EAAE;EACvB,EAAE,OAAO,IAAI,CAAC,OAAO,KAAK,OAAO,CAAC;EAClC,CAAC;AACD;EACA,SAAS,aAAa,CAAC,IAAI,EAAE;EAC7B,EAAE,OAAO,OAAO,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,KAAK,QAAQ,CAAC;EACjD,CAAC;AACD;EACA,SAAS,OAAO,CAAC,IAAI,EAAE;EACvB,EAAE,OAAO,OAAO,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,KAAK,OAAO,CAAC;EAChD,CAAC;AACD;EACA,SAAS,kBAAkB,CAAC,IAAI,EAAE;EAClC,EAAE,OAAO,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;EACjD,CAAC;AACD;EACA,SAAS,eAAe,CAAC,KAAK,EAAE,IAAI,EAAE;EACtC,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;EACzC,IAAI,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC,OAAO,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,IAAI,EAAE;EACpD,MAAM,OAAO,KAAK,CAAC,CAAC,CAAC,CAAC;EACtB,KAAK;EACL,GAAG;EACH,CAAC;AACD;EACA,SAAS,eAAe,CAAC,IAAI,EAAE;EAC/B,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE;EAClB,IAAI,OAAO,IAAI,CAAC;EAChB,GAAG;EACH,EAAE,MAAM,UAAU,GAAG,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,aAAa,CAAC;EACrD,EAAE,IAAI,QAAQ,GAAG,UAAU,CAAC,gBAAgB;EAC5C,IAAI,4BAA4B,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI;EACnD,GAAG,CAAC;EACJ,EAAE,IAAI,OAAO,GAAG,eAAe,CAAC,QAAQ,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;EACrD,EAAE,OAAO,CAAC,OAAO,IAAI,OAAO,KAAK,IAAI,CAAC;EACtC,CAAC;AACD;EACA,SAAS,QAAQ,CAAC,IAAI,EAAE;EACxB;EACA;EACA,EAAE;EACF,IAAI,IAAI,CAAC,YAAY,KAAK,IAAI,IAAI,gBAAgB,CAAC,IAAI,CAAC,CAAC,UAAU,KAAK,QAAQ;EAChF,IAAI;EACJ;;;;;;;;;;;;;;"}